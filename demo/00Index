The files

    npudens_serial.R
    npudens_npRmpi.R

demonstrate the difference between constructing serial versus MPI np
programs. Kindly study these files and the comments in each in order
to extend this approach to your problem.

To run the serial version install the np program and then run

R CMD BATCH npudens_serial.R

To run the MPI version install the npRmpi program, copy the Rprofile
file in npRmpi/inst to the current directory and name it .Rprofile (or
copy it to your home directory and again name it .Rprofile) and then
on OPENMPI systems run

mpirun -np 2 R CMD BATCH npudens_npRmpi.R

You can compare run times by examining the files npudens_serial.Rout
and npudens_npRmpi.Rout.
